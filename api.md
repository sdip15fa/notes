# Api

Api documentation for https://notes-server.wcyat.me (or your server whatever running server/server.js)

### Prerequisites

I use [axios](https://axios-http.com/) but you can use just javascript it's the same.

### HTTP Request

Six requests are supported.

```
1. GET https://notes-server.wcyat.me/get/:id
2. GET https://notes-server.wcyat.me/notes/users/:key
3. POST https://notes-server.wcyat.me/create
4. POST https://notes-server.wcyat.me/users/signup
5. POST https://notes-server.wcyat.me/users/signin
6. POST https://notes-server.wcyat.me/notes/users/:key
```

### Requests desciptions

| Request | Body                                       | Type | Description                                                        |
| ------- | ------------------------------------------ | ---- | ------------------------------------------------------------------ |
| 1       |                                            | text | return an object including note id and value                       |
| 2       |                                            | text | return an object with all the notes belonging to the user          |
| 3       | {id : id, text : text}                     | json | create/overwrite a note of some id with some text                  |
| 4       | {username : username, password : password} | json | return user key generated if signup is successful                  |
| 5       | {username : username, password : password} | json | return user's key if user is found and username and password match |
| 6       | {key : key, 1 : note1, 2: note2 ...}       | json | overwrite the user notes entry                                     |

### Request body

the parameters for post requests are sent as request body.

# Response format

1. JSON {\_id : "this is not important and can be ignored", id : "note id", text : "note text"}
2. JSON {1 : "the users' first note", 2 : "users' second note", 3 : "users' third note" ...}
3. TEXT "ok"
4. TEXT user key / http 409 + "Username already used."
5. TEXT user key / http 401 + "Username / password incorrect."
6. TEXT "ok" / http 404 + "User not found."

### Example

##### Request

```
GET https://notes-server.wcyat.me/get/1
```

##### Response

JSON

```
{
  "_id":"61a32795072191818b070794",
  "id":"1",
  "text":"hi"
}
```

\_id is the object id generated by mongodb which can be ignored.
